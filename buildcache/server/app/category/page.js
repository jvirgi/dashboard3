(()=>{var e={};e.id=572,e.ids=[572],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},48557:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>f,tree:()=>l}),r(68681),r(37716),r(35866);var n=r(23191),a=r(88716),o=r(37922),i=r.n(o),s=r(95231),c={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>s[e]);r.d(t,c);let l=["",{children:["category",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68681)),"/workspace/voc-dashboard/app/category/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,37716)),"/workspace/voc-dashboard/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],u=["/workspace/voc-dashboard/app/category/page.tsx"],d="/category/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/category/page",pathname:"/category",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},98423:(e,t,r)=>{Promise.resolve().then(r.bind(r,21548))},21548:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eU});var n=r(10326),a=r(17577),o=r.n(a),i=r(25040),s=r(61521),c=r(71182),l=r(76812),u=r(60962);function d({placeholder:e="Searchâ€¦",value:t,onChange:r,options:o,emptyText:i="No results"}){let[s,d]=a.useState(!1),p=a.useRef(null),f=a.useRef(null),m=a.useRef(null),[y,h]=a.useState(null),b=a.useMemo(()=>{let e=new Map;for(let t of o){let r=t.group||"All";e.has(r)||e.set(r,[]),e.get(r).push(t)}return Array.from(e.entries())},[o]);return a.useEffect(()=>{if(!s)return;let e=()=>{d(!1)},t=e=>{let t=e.target;!m.current?.contains(t)&&(f.current?.contains(t)||d(!1))},r=e=>{"Escape"===e.key&&d(!1)};return window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",()=>t(new MouseEvent("mousedown")),!0),document.addEventListener("keydown",r),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0),document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",()=>t(new MouseEvent("mousedown")),!0),document.removeEventListener("keydown",r)}},[s]),(0,n.jsxs)("div",{className:"relative min-w-[280px]",children:[n.jsx("button",{ref:f,onClick:()=>{d(!0),setTimeout(()=>{if(p.current?.focus(),f.current){let e=f.current.getBoundingClientRect(),t=Math.min(e.left,window.innerWidth-e.width-8);h({top:Math.min(e.bottom+8,window.innerHeight-200),left:t,width:e.width})}},0)},className:"inline-flex items-center justify-between rounded-full bg-white/70 backdrop-blur shadow-soft px-4 py-2 text-sm w-full border-0 [background:linear-gradient(white,white)_padding-box,linear-gradient(90deg,#a78bfa,#f472b6)_border-box] border border-transparent",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 text-left",children:[n.jsx(l._Ve,{className:"opacity-60"}),n.jsx("span",{className:"truncate",children:o.find(e=>e.value===t)?.label||e})]})}),s&&y&&(0,u.createPortal)((0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{onMouseDown:()=>d(!1),onTouchStart:()=>d(!1),style:{position:"fixed",inset:0,zIndex:4e3}}),n.jsx("div",{ref:m,style:{position:"fixed",top:y.top,left:y.left,width:Math.min(y.width,window.innerWidth-16),zIndex:5e3},className:"max-w-[90vw] rounded-xl border bg-white/95 backdrop-blur shadow-soft max-h-[60vh] overflow-auto",children:(0,n.jsxs)(c.mY,{shouldFilter:!0,filter:(e,t)=>e.toLowerCase().includes(t.toLowerCase())?1:0,children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 border-b px-3 py-2",children:[n.jsx(l._Ve,{}),n.jsx(c.mY.Input,{ref:p,placeholder:e,className:"w-full outline-none bg-transparent text-sm"})]}),(0,n.jsxs)(c.mY.List,{className:"max-h-64 overflow-auto p-1",children:[n.jsx(c.mY.Empty,{className:"px-3 py-2 text-sm text-slate-500",children:i}),b.map(([e,a])=>n.jsx(c.mY.Group,{heading:e,className:"text-[11px] uppercase tracking-wide text-slate-400",children:a.map(e=>(0,n.jsxs)(c.mY.Item,{value:e.label,onSelect:()=>{r(e.value),d(!1)},className:"flex items-center gap-2 rounded-md px-2 py-2 text-sm text-slate-700 aria-selected:bg-brand-50",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-brand-500"}),(0,n.jsxs)("div",{className:"flex-1 truncate",children:[n.jsx("div",{className:"truncate",children:e.label}),e.meta&&n.jsx("div",{className:"text-xs text-slate-500 truncate",children:e.meta})]}),t===e.value&&n.jsx(l.nQG,{})]},e.value))},e))]})]})})]}),document.body)]})}function p({categories:e,brands:t,retailers:r,selectedCategoryId:a,setSelectedCategoryId:o,selectedBrandId:i,setSelectedBrandId:c,selectedRetailerId:l,setSelectedRetailerId:u,months:p,setMonths:f}){let m=[{value:"all",label:"All Categories"},...e.map(e=>({value:e.categoryId,label:e.name}))],y=[{value:"",label:"All Brands",group:"All"},...("all"===a?t:t.filter(e=>e.categoryId===a)).map(t=>({value:t.brandId,label:t.name,group:e.find(e=>e.categoryId===t.categoryId)?.name}))],h=[{value:"all",label:"All Retailers"},...r.map(e=>({value:e.retailerId,label:e.name}))];return(0,n.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Category"}),n.jsx(d,{value:String(a),onChange:e=>o(e||"all"),options:m,placeholder:"All Categories"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Brand"}),n.jsx(d,{value:"all"===i?"":String(i),onChange:e=>c(e||"all"),options:y,placeholder:"All Brands"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Retailer"}),n.jsx(d,{value:String("all"===l?"":l),onChange:e=>u(e||"all"),options:h,placeholder:"All Retailers"})]}),(0,n.jsxs)("div",{className:"md:ml-auto",children:[n.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Months"}),n.jsx(s.l,{value:p,onChange:f})]})]})}var f=r(10549),m=r(60387),y=r(30660),h=r(32385),b=r(23958),v=r(20119),x=r.n(v),g=r(90601),j=r.n(g),O=r(48142),w=r.n(O),k=r(81711),P=r.n(k),N=r(85586),E=r.n(N),S=r(41135),A=r(2645),I=r(81656),L=r(16130),R=r(81546),T=r(94221),C=r(61595),_=r(49432),M=r(45588),D=r(2656);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(V=function(){return!!e})()}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,r){return(t=Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=B(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:String(t)}var W=function(e){var t,r;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n);for(var e,t,r,a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=n,r=[].concat(o),t=$(t),e=function(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return z(e)}(this,V()?Reflect.construct(t,r||[],$(this).constructor):t.apply(this,r)),U(z(e),"state",{isAnimationFinished:!1}),U(z(e),"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),E()(t)&&t()}),U(z(e),"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),E()(t)&&t()}),U(z(e),"handleMouseEnter",function(t){var r=e.props.onMouseEnter;r&&r(e.props,t)}),U(z(e),"handleMouseLeave",function(t){var r=e.props.onMouseLeave;r&&r(e.props,t)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(n,e),t=[{key:"renderDots",value:function(e){var t=this.props,r=t.dot,a=t.dataKey,i=(0,D.L6)(this.props,!1),s=(0,D.L6)(r,!0),c=e.map(function(e,t){var o=Z(Z(Z({key:"dot-".concat(t),r:3},i),s),{},{dataKey:a,cx:e.x,cy:e.y,index:t,payload:e});return n.renderDotItem(r,o)});return o().createElement(_.m,{className:"recharts-radar-dots"},c)}},{key:"renderPolygonStatically",value:function(e){var t,r=this.props,n=r.shape,a=r.dot,i=r.isRange,s=r.baseLinePoints,c=r.connectNulls;return t=o().isValidElement(n)?o().cloneElement(n,Z(Z({},this.props),{},{points:e})):E()(n)?n(Z(Z({},this.props),{},{points:e})):o().createElement(T.m,F({},(0,D.L6)(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:e,baseLinePoints:i?s:null,connectNulls:c})),o().createElement(_.m,{className:"recharts-radar-polygon"},t,a?this.renderDots(e):null)}},{key:"renderPolygonWithAnimation",value:function(){var e=this,t=this.props,r=t.points,n=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,c=t.animationId,l=this.state.prevPoints;return o().createElement(b.ZP,{begin:a,duration:i,isActive:n,easing:s,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var n=t.t,a=l&&l.length/r.length,o=r.map(function(e,t){var r=l&&l[Math.floor(t*a)];if(r){var o=(0,A.k4)(r.x,e.x),i=(0,A.k4)(r.y,e.y);return Z(Z({},e),{},{x:o(n),y:i(n)})}var s=(0,A.k4)(e.cx,e.x),c=(0,A.k4)(e.cy,e.y);return Z(Z({},e),{},{x:s(n),y:c(n)})});return e.renderPolygonStatically(o)})}},{key:"renderPolygon",value:function(){var e=this.props,t=e.points,r=e.isAnimationActive,n=e.isRange,a=this.state.prevPoints;return r&&t&&t.length&&!n&&(!a||!P()(a,t))?this.renderPolygonWithAnimation():this.renderPolygonStatically(t)}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.className,n=e.points,a=e.isAnimationActive;if(t||!n||!n.length)return null;var i=this.state.isAnimationFinished,s=(0,S.Z)("recharts-radar",r);return o().createElement(_.m,{className:s},this.renderPolygon(),(!a||i)&&M.e.renderCallByParent(this.props,n))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"renderDotItem",value:function(e,t){return o().isValidElement(e)?o().cloneElement(e,t):E()(e)?e(t):o().createElement(C.o,F({},t,{className:(0,S.Z)("recharts-radar-dot","boolean"!=typeof e?e.className:"")}))}}],t&&q(n.prototype,t),r&&q(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(a.PureComponent);U(W,"displayName","Radar"),U(W,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!I.x.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),U(W,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,a=e.dataKey,o=e.bandSize,i=r.cx,s=r.cy,c=!1,l=[],u="number"!==r.type&&null!=o?o:0;n.forEach(function(e,n){var o=(0,R.F$)(e,r.dataKey,n),d=(0,R.F$)(e,a),p=r.scale(o)+u,f=Array.isArray(d)?j()(d):d,m=x()(f)?void 0:t.scale(f);Array.isArray(d)&&d.length>=2&&(c=!0),l.push(Z(Z({},(0,L.op)(i,s,m,p)),{},{name:o,value:d,cx:i,cy:s,radius:m,angle:p,payload:e}))});var d=[];return c&&l.forEach(function(e){if(Array.isArray(e.value)){var r=w()(e.value),n=x()(r)?void 0:t.scale(r);d.push(Z(Z({},e),{},{radius:n},(0,L.op)(i,s,n,e.angle)))}else d.push(e)}),{points:l,isRange:c,baseLinePoints:d}});var H=r(61214),Q=r(50522);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(t){ei(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,es(n.key),n)}}function en(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(en=function(){return!!e})()}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e,t){return(eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ei(e,t,r){return(t=es(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function es(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=X(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:String(t)}var ec=Math.PI/180,el=function(e){var t,r;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=ea(e),function(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,en()?Reflect.construct(e,t||[],ea(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eo(e,t)}(n,e),t=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,o=t.orientation,i=t.tickSize,s=(0,L.op)(r,n,a,e.coordinate),c=(0,L.op)(r,n,a+("inner"===o?-1:1)*(i||8),e.coordinate);return{x1:s.x,y1:s.y,x2:c.x,y2:c.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*ec);return r>1e-5?"outer"===t?"start":"end":r<-.00001?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,i=e.axisLineType,s=et(et({},(0,D.L6)(this.props,!1)),{},{fill:"none"},(0,D.L6)(a,!1));if("circle"===i)return o().createElement(C.o,J({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:n}));var c=this.props.ticks.map(function(e){return(0,L.op)(t,r,n,e.coordinate)});return o().createElement(T.m,J({className:"recharts-polar-angle-axis-line"},s,{points:c}))}},{key:"renderTicks",value:function(){var e=this,t=this.props,r=t.ticks,a=t.tick,i=t.tickLine,s=t.tickFormatter,c=t.stroke,l=(0,D.L6)(this.props,!1),u=(0,D.L6)(a,!1),d=et(et({},l),{},{fill:"none"},(0,D.L6)(i,!1)),p=r.map(function(t,r){var p=e.getTickLineCoord(t),f=et(et(et({textAnchor:e.getTickTextAnchor(t)},l),{},{stroke:"none",fill:c},u),{},{index:r,payload:t,x:p.x2,y:p.y2});return o().createElement(_.m,J({className:(0,S.Z)("recharts-polar-angle-axis-tick",(0,L.$S)(a)),key:"tick-".concat(t.coordinate)},(0,Q.bw)(e.props,t,r)),i&&o().createElement("line",J({className:"recharts-polar-angle-axis-tick-line"},d,p)),a&&n.renderTickItem(a,f,s?s(t.value,r):t.value))});return o().createElement(_.m,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return!(r<=0)&&t&&t.length?o().createElement(_.m,{className:(0,S.Z)("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks()):null}}],r=[{key:"renderTickItem",value:function(e,t,r){return o().isValidElement(e)?o().cloneElement(e,t):E()(e)?e(t):o().createElement(H.x,J({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],t&&er(n.prototype,t),r&&er(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(a.PureComponent);ei(el,"displayName","PolarAngleAxis"),ei(el,"axisType","angleAxis"),ei(el,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var eu=r(4344),ed=r.n(eu),ep=r(72175),ef=r.n(ep),em=r(82116),ey=["cx","cy","angle","ticks","axisLine"],eh=["ticks","tick","angle","tickFormatter","stroke"];function eb(e){return(eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(){return(ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(r),!0).forEach(function(t){eN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ej(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eE(n.key),n)}}function ew(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ew=function(){return!!e})()}function ek(e){return(ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eP(e,t){return(eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eN(e,t,r){return(t=eE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eE(e){var t=function(e,t){if("object"!=eb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eb(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eb(t)?t:String(t)}var eS=function(e){var t,r;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=ek(e),function(e,t){if(t&&("object"===eb(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,ew()?Reflect.construct(e,t||[],ek(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}(n,e),t=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,o=r.cy;return(0,L.op)(a,o,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,o=ed()(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:ef()(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=e.axisLine,s=ej(e,ey),c=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=(0,L.op)(t,r,c[0],n),u=(0,L.op)(t,r,c[1],n),d=eg(eg(eg({},(0,D.L6)(s,!1)),{},{fill:"none"},(0,D.L6)(i,!1)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return o().createElement("line",ev({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,t=this.props,r=t.ticks,a=t.tick,i=t.angle,s=t.tickFormatter,c=t.stroke,l=ej(t,eh),u=this.getTickTextAnchor(),d=(0,D.L6)(l,!1),p=(0,D.L6)(a,!1),f=r.map(function(t,r){var l=e.getTickValueCoord(t),f=eg(eg(eg(eg({textAnchor:u,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:c},p),{},{index:r},l),{},{payload:t});return o().createElement(_.m,ev({className:(0,S.Z)("recharts-polar-radius-axis-tick",(0,L.$S)(a)),key:"tick-".concat(t.coordinate)},(0,Q.bw)(e.props,t,r)),n.renderTickItem(a,f,s?s(t.value,r):t.value))});return o().createElement(_.m,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?o().createElement(_.m,{className:(0,S.Z)("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),em._.renderCallByParent(this.props,this.getViewBox())):null}}],r=[{key:"renderTickItem",value:function(e,t,r){return o().isValidElement(e)?o().cloneElement(e,t):E()(e)?e(t):o().createElement(H.x,ev({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],t&&eO(n.prototype,t),r&&eO(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(a.PureComponent);eN(eS,"displayName","PolarRadiusAxis"),eN(eS,"axisType","radiusAxis"),eN(eS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var eA=(0,h.z)({chartName:"RadarChart",GraphicalChild:W,axisComponents:[{axisType:"angleAxis",AxisComp:el},{axisType:"radiusAxis",AxisComp:eS}],formatAxisMap:L.t9,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),eI=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eR(){return(eR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=eL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eL(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eL(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var e_=function(e,t,r,n){var a="";return n.forEach(function(n,o){var i=(0,L.op)(t,r,e,n);o?a+="L ".concat(i.x,",").concat(i.y):a+="M ".concat(i.x,",").concat(i.y)}),a+="Z"},eM=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.polarAngles,s=e.radialLines;if(!i||!i.length||!s)return null;var c=eC({stroke:"#ccc"},(0,D.L6)(e,!1));return o().createElement("g",{className:"recharts-polar-grid-angle"},i.map(function(e){var i=(0,L.op)(t,r,n,e),s=(0,L.op)(t,r,a,e);return o().createElement("line",eR({},c,{key:"line-".concat(e),x1:i.x,y1:i.y,x2:s.x,y2:s.y}))}))},eD=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.index,i=eC(eC({stroke:"#ccc"},(0,D.L6)(e,!1)),{},{fill:"none"});return o().createElement("circle",eR({},i,{className:(0,S.Z)("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:t,cy:r,r:n}))},eB=function(e){var t=e.radius,r=e.index,n=eC(eC({stroke:"#ccc"},(0,D.L6)(e,!1)),{},{fill:"none"});return o().createElement("path",eR({},n,{className:(0,S.Z)("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:e_(t,e.cx,e.cy,e.polarAngles)}))},eF=function(e){var t=e.polarRadius,r=e.gridType;return t&&t.length?o().createElement("g",{className:"recharts-polar-grid-concentric"},t.map(function(t,n){return"circle"===r?o().createElement(eD,eR({key:n},e,{radius:t,index:n})):o().createElement(eB,eR({key:n},e,{radius:t,index:n}))})):null},eK=function(e){var t=e.cx,r=void 0===t?0:t,n=e.cy,a=void 0===n?0:n,i=e.innerRadius,s=void 0===i?0:i,c=e.outerRadius,l=void 0===c?0:c,u=e.gridType,d=void 0===u?"polygon":u,p=e.radialLines,f=void 0===p||p,m=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,eI);return l<=0?null:o().createElement("g",{className:"recharts-polar-grid"},o().createElement(eM,eR({cx:r,cy:a,innerRadius:s,outerRadius:l,gridType:d,radialLines:f},m)),o().createElement(eF,eR({cx:r,cy:a,innerRadius:s,outerRadius:l,gridType:d,radialLines:f},m)))};eK.displayName="PolarGrid";var eZ=r(44675),eq=r(69274);function eV({data:e,dataKey:t="value",name:r="Profile",color:a="#8b5cf6"}){return n.jsx("div",{className:"h-80",children:n.jsx(y.h,{width:"100%",height:"100%",children:(0,n.jsxs)(eA,{data:e,margin:{top:10,right:20,bottom:10,left:10},children:[n.jsx(eK,{}),n.jsx(el,{dataKey:"name",tick:{fontSize:12}}),n.jsx(eS,{angle:30,domain:[0,"dataMax"]}),n.jsx(eZ.u,{}),n.jsx(eq.D,{}),n.jsx(W,{name:r,dataKey:t,stroke:a,fill:a,fillOpacity:.35})]})})})}var e$=r(33377),ez=r(80805),eG=r(35047);function eU(){let e=i.m,t=(0,eG.useRouter)(),{categories:r,brands:o,products:s,dates:c,reviews:l,retailers:u,themes:d}=e,[y,h]=(0,a.useState)("all"),[b,v]=(0,a.useState)("all"),[x,g]=(0,a.useState)(12),[j,O]=(0,a.useTransition)(),w=(0,a.useMemo)(()=>c.sort((e,t)=>e.date.getTime()-t.date.getTime()).slice(-x).map(e=>e.dateKey),[c,x]),k=(0,a.useMemo)(()=>{let e=new Set("all"===y?o.map(e=>e.brandId):o.filter(e=>e.categoryId===y).map(e=>e.brandId)),t=new Set("all"===b?s.filter(t=>e.has(t.brandId)).map(e=>e.productId):s.filter(e=>e.brandId===b).map(e=>e.productId));return l.filter(e=>w.includes(e.dateKey)&&t.has(e.productId))},[l,o,s,w,y,b]),P=(0,a.useMemo)(()=>{let e=new Map;for(let t of r)e.set(t.categoryId,{name:t.name,avg:0,count:0});for(let t of k){let r=o.find(e=>e.brandId===s.find(e=>e.productId===t.productId)?.brandId);if(!r)continue;let n=e.get(r.categoryId);n&&(n.avg+=t.rating,n.count+=1)}return Array.from(e.entries()).map(([e,t])=>({id:e,name:t.name,value:t.count?Number((t.avg/t.count).toFixed(2)):0}))},[k,r,o,s]),N=(0,a.useMemo)(()=>{let e=new Map;for(let t of o)e.set(t.brandId,{name:t.name,avg:0,count:0});for(let t of k){let r=s.find(e=>e.productId===t.productId);if(!r)continue;let n=e.get(r.brandId);n&&(n.avg+=t.rating,n.count+=1)}return Array.from(e.entries()).map(([e,t])=>({id:e,name:t.name,avg:t.count?Number((t.avg/t.count).toFixed(2)):0,count:t.count})).filter(e=>e.count>0).sort((e,t)=>t.avg-e.avg).slice(0,10)},[k,o,s]),E=(0,a.useMemo)(()=>{let e=new Map;for(let t of k)for(let r of t.themeIds)e.set(r,(e.get(r)||0)+1);return d.map(t=>({name:t.name,value:e.get(t.themeId)||0}))},[k,d]),S=(0,a.useMemo)(()=>N.map(e=>({name:e.name,value:e.count})),[N]);return(0,n.jsxs)("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-2xl p-6 bg-white/60 backdrop-blur border border-slate-200 shadow-soft",children:n.jsx(p,{categories:r,brands:o,retailers:u,selectedCategoryId:y,setSelectedCategoryId:e=>O(()=>{h(e),v("all")}),selectedBrandId:b,setSelectedBrandId:e=>O(()=>v(e)),selectedRetailerId:"all",setSelectedRetailerId:()=>{},months:x,setMonths:e=>O(()=>g(e))})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,n.jsxs)(m.O,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Avg Rating by Category"}),j?n.jsx(ez.O,{className:"h-72"}):n.jsx(f.f,{data:P,xKey:"name",barKey:"value",color:"#14b8a6",onBarClick:e=>{let n=r.find(t=>t.name===e);n&&t.push(`/?category=${encodeURIComponent(n.name)}`)}})]}),(0,n.jsxs)(m.O,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Top Brands"}),j?n.jsx(ez.O,{className:"h-72"}):n.jsx(f.f,{data:N.map(e=>({name:e.name,value:e.avg})),xKey:"name",barKey:"value",color:"#3b82f6",onBarClick:e=>{let r=N.find(t=>t.name===e);r&&t.push(`/?brand=${encodeURIComponent(r.name)}`)}})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,n.jsxs)(m.O,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Theme Profile (Radar)"}),j?n.jsx(ez.O,{className:"h-80"}):n.jsx(eV,{data:E})]}),(0,n.jsxs)(m.O,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Brand Mix (Treemap)"}),j?n.jsx(ez.O,{className:"h-80"}):n.jsx(e$.Z,{data:S})]})]}),(0,n.jsxs)(m.O,{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Top Products"}),n.jsx("button",{onClick:()=>{let e=[["Product","Brand","Category","Avg Rating","Reviews"]];for(let t of s.slice(0,80)){let n=k.filter(e=>e.productId===t.productId);if(0===n.length)continue;let a=n.reduce((e,t)=>e+t.rating,0)/n.length,i=o.find(e=>e.brandId===t.brandId),s=r.find(e=>e.categoryId===i.categoryId);e.push([t.name,i.name,s.name,a.toFixed(2),String(n.length)])}let t=new Blob([e.map(e=>e.map(e=>`"${String(e).replaceAll('"','""')}"`).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="top-products.csv",a.click(),URL.revokeObjectURL(n)},className:"badge border-slate-200 bg-white hover:bg-slate-50 text-slate-700",children:"Export CSV"})]}),n.jsx("div",{className:"overflow-x-auto",children:j?(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(ez.O,{className:"h-6 w-64"}),Array.from({length:8}).map((e,t)=>n.jsx(ez.O,{className:"h-6"},t))]}):(0,n.jsxs)("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:(0,n.jsxs)("tr",{className:"text-left text-slate-500",children:[n.jsx("th",{className:"py-2 pr-4",children:"Product"}),n.jsx("th",{className:"py-2 pr-4",children:"Brand"}),n.jsx("th",{className:"py-2 pr-4",children:"Category"}),n.jsx("th",{className:"py-2 pr-4",children:"Avg Rating"}),n.jsx("th",{className:"py-2 pr-4",children:"Reviews"})]})}),n.jsx("tbody",{children:s.slice(0,80).map(e=>{let t=k.filter(t=>t.productId===e.productId);if(0===t.length)return null;let a=t.reduce((e,t)=>e+t.rating,0)/t.length,i=o.find(t=>t.brandId===e.brandId),s=r.find(e=>e.categoryId===i.categoryId);return(0,n.jsxs)("tr",{className:"border-t",children:[n.jsx("td",{className:"py-2 pr-4 font-medium",children:e.name}),n.jsx("td",{className:"py-2 pr-4",children:i.name}),n.jsx("td",{className:"py-2 pr-4",children:s.name}),n.jsx("td",{className:"py-2 pr-4",children:a.toFixed(2)}),n.jsx("td",{className:"py-2 pr-4",children:t.length})]},e.productId)})})]})})]})]})}},61521:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(10326);function a({value:e,onChange:t}){return n.jsx("div",{className:"inline-flex rounded-full bg-slate-100 p-1 border border-slate-200",children:[6,12,18].map(r=>(0,n.jsxs)("button",{onClick:()=>t(r),className:`px-3 py-1.5 text-sm rounded-full transition ${e===r?"bg-white shadow-soft text-slate-900":"text-slate-600 hover:text-slate-900"}`,children:[r," mo"]},r))})}},80805:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(10326);function a({className:e=""}){return n.jsx("div",{className:`skeleton rounded-md ${e}`})}},33377:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(10326),a=r(30660),o=r(90657);function i({data:e,dataKey:t="value"}){return n.jsx("div",{className:"h-80",children:n.jsx(a.h,{width:"100%",height:"100%",children:n.jsx(o.W,{data:e,dataKey:t,stroke:"#fff",fill:"#60a5fa",aspectRatio:4/3,animationDuration:400})})})}},48142:(e,t,r)=>{e.exports=r(58696)},58696:e=>{e.exports=function(e){return e&&e.length?e[0]:void 0}},4344:(e,t,r)=>{var n=r(18401),a=r(20913),o=r(44729);e.exports=function(e,t){return e&&e.length?n(e,o(t,2),a):void 0}},72175:(e,t,r)=>{var n=r(18401),a=r(44729),o=r(16409);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),o):void 0}},68681:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>s});var n=r(68570);let a=(0,n.createProxy)(String.raw`/workspace/voc-dashboard/app/category/page.tsx`),{__esModule:o,$$typeof:i}=a;a.default;let s=(0,n.createProxy)(String.raw`/workspace/voc-dashboard/app/category/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[589,883,747,657,191],()=>r(48557));module.exports=n})();